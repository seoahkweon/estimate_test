<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë°±ë‚´ì¥ ìˆ˜ìˆ  ë¬´ë£Œ ê²¬ì  ìš”ì²­ | ëª¨ë‘ë‹¥</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.js" rel="stylesheet">
  <style>
    * { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif; }
  </style>
</head>
<body class="bg-gradient-to-b from-sky-50 to-white min-h-screen">
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="max-w-3xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="w-10 h-10 bg-sky-500 rounded-xl flex items-center justify-center">
          <span class="text-white font-bold text-lg">M</span>
        </div>
        <span class="font-bold text-xl text-gray-800">ëª¨ë‘ë‹¥</span>
      </div>
      <a href="tel:070-8098-4064" class="flex items-center gap-1 text-sky-600 font-medium">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
        <span>070-8098-4064</span>
      </a>
    </div>
  </header>

  <div class="max-w-3xl mx-auto px-4 py-6">
    <div class="bg-gradient-to-r from-sky-500 to-blue-600 rounded-2xl p-6 mb-6 text-white">
      <h1 class="text-2xl font-bold mb-2">ë°±ë‚´ì¥ ìˆ˜ìˆ </h1>
      <h2 class="text-3xl font-bold mb-4">ë¬´ë£Œ ê²¬ì  ìš”ì²­</h2>
      <p class="text-sky-100 text-sm leading-relaxed">
        ì „êµ­ ìœ ëª… ì•ˆê³¼ ë³‘ì›ì˜ ë°±ë‚´ì¥ ìˆ˜ìˆ  ê²¬ì ì„<br>
        í•œ ë²ˆì— ë¹„êµí•´ë³´ì„¸ìš”. ìµœëŒ€ 3ê³³ê¹Œì§€ ë¬´ë£Œ ìƒë‹´!
      </p>
      <div class="flex gap-3 mt-4 flex-wrap">
        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">âœ“ ë¬´ë£Œ ìƒë‹´</span>
        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">âœ“ ë§ì¶¤ ê²¬ì </span>
        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">âœ“ ë¹ ë¥¸ ì—°ê²°</span>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-sky-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
        ê¸°ë³¸ ì •ë³´
      </h3>
      
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ì´ë¦„ <span class="text-red-500">*</span></label>
          <input type="text" id="name" placeholder="ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500">
          <p id="name-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ì—°ë½ì²˜ <span class="text-red-500">*</span></label>
          <div class="flex gap-2">
            <input type="tel" id="phone1" placeholder="010" maxlength="3" class="w-24 px-4 py-3 border border-gray-200 rounded-xl text-center focus:outline-none focus:ring-2 focus:ring-sky-500">
            <span class="flex items-center text-gray-400">-</span>
            <input type="tel" id="phone2" placeholder="0000" maxlength="4" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl text-center focus:outline-none focus:ring-2 focus:ring-sky-500">
            <span class="flex items-center text-gray-400">-</span>
            <input type="tel" id="phone3" placeholder="0000" maxlength="4" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl text-center focus:outline-none focus:ring-2 focus:ring-sky-500">
          </div>
          <p id="phone-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ê±°ì£¼ ì§€ì—­ <span class="text-red-500">*</span></label>
          <div class="flex gap-2">
            <select id="region" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 bg-white">
              <option value="">ì‹œ/ë„ ì„ íƒ</option>
              <option value="ì„œìš¸">ì„œìš¸</option>
              <option value="ê²½ê¸°">ê²½ê¸°</option>
              <option value="ì¸ì²œ">ì¸ì²œ</option>
              <option value="ë¶€ì‚°">ë¶€ì‚°</option>
              <option value="ëŒ€êµ¬">ëŒ€êµ¬</option>
              <option value="ê´‘ì£¼">ê´‘ì£¼</option>
              <option value="ëŒ€ì „">ëŒ€ì „</option>
              <option value="ìš¸ì‚°">ìš¸ì‚°</option>
              <option value="ì„¸ì¢…">ì„¸ì¢…</option>
              <option value="ê°•ì›">ê°•ì›</option>
              <option value="ì¶©ë¶">ì¶©ë¶</option>
              <option value="ì¶©ë‚¨">ì¶©ë‚¨</option>
              <option value="ì „ë¶">ì „ë¶</option>
              <option value="ì „ë‚¨">ì „ë‚¨</option>
              <option value="ê²½ë¶">ê²½ë¶</option>
              <option value="ê²½ë‚¨">ê²½ë‚¨</option>
              <option value="ì œì£¼">ì œì£¼</option>
            </select>
            <select id="district" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 bg-white hidden">
              <option value="">êµ¬ ì„ íƒ</option>
            </select>
          </div>
          <p id="region-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ì—°ë ¹ëŒ€ <span class="text-red-500">*</span></label>
          <div class="flex flex-wrap gap-2" id="age-buttons">
            <button type="button" data-age="40ëŒ€" class="age-btn px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-600 hover:border-sky-300 transition">40ëŒ€</button>
            <button type="button" data-age="50ëŒ€" class="age-btn px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-600 hover:border-sky-300 transition">50ëŒ€</button>
            <button type="button" data-age="60ëŒ€" class="age-btn px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-600 hover:border-sky-300 transition">60ëŒ€</button>
            <button type="button" data-age="70ëŒ€" class="age-btn px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-600 hover:border-sky-300 transition">70ëŒ€</button>
            <button type="button" data-age="80ëŒ€ ì´ìƒ" class="age-btn px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-600 hover:border-sky-300 transition">80ëŒ€ ì´ìƒ</button>
          </div>
          <p id="age-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-sky-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
        ìˆ˜ìˆ  ì •ë³´
      </h3>

      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">í¬ë§ ìˆ˜ìˆ  ì¢…ë¥˜ <span class="text-red-500">*</span></label>
          <div class="flex gap-2" id="surgery-buttons">
            <button type="button" data-surgery="ì•„ì§ ëª¨ë¦„ / ìƒë‹´ í¬ë§" class="surgery-btn flex-1 px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm hover:border-sky-300 transition">ì•„ì§ ëª¨ë¦„ / ìƒë‹´ í¬ë§</button>
            <button type="button" data-surgery="ë‹¨ì´ˆì  ë Œì¦ˆ" class="surgery-btn flex-1 px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm hover:border-sky-300 transition">ë‹¨ì´ˆì  ë Œì¦ˆ</button>
            <button type="button" data-surgery="ë‹¤ì´ˆì  ë Œì¦ˆ" class="surgery-btn flex-1 px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm hover:border-sky-300 transition">ë‹¤ì´ˆì  ë Œì¦ˆ</button>
          </div>
          <p id="surgery-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div id="multifocal-section" class="hidden">
          <label class="block text-sm font-medium text-gray-700 mb-2">ë‹¤ì´ˆì  ë Œì¦ˆ ì¢…ë¥˜ <span class="text-red-500">*</span></label>
          <div class="grid grid-cols-2 gap-2" id="lens-buttons">
            <button type="button" data-lens="í´ë¼ë ˆì˜¨ íŒ¬ì˜µí‹±ìŠ¤" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">í´ë¼ë ˆì˜¨ íŒ¬ì˜µí‹±ìŠ¤</button>
            <button type="button" data-lens="íŒ¬ì˜µí‹±ìŠ¤" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">íŒ¬ì˜µí‹±ìŠ¤</button>
            <button type="button" data-lens="í´ë¼ë ˆì˜¨ ë¹„ë¹„í‹°" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">í´ë¼ë ˆì˜¨ ë¹„ë¹„í‹°</button>
            <button type="button" data-lens="ë¹„ë¹„í‹°" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">ë¹„ë¹„í‹°</button>
            <button type="button" data-lens="í…Œí¬ë‹ˆìŠ¤ ì•„ì´í•¸ìŠ¤" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">í…Œí¬ë‹ˆìŠ¤ ì•„ì´í•¸ìŠ¤</button>
            <button type="button" data-lens="ì‹œë„ˆì§€" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">ì‹œë„ˆì§€</button>
            <button type="button" data-lens="í“¨ì–´ì”¨" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">í“¨ì–´ì”¨</button>
            <button type="button" data-lens="ì—˜ë¼ë‚˜" class="lens-btn px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm text-left hover:border-sky-300 transition">ì—˜ë¼ë‚˜</button>
          </div>
          <p id="lens-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ì‹¤ë¹„ë³´í—˜ ê°€ì… ì—¬ë¶€ <span class="text-red-500">*</span></label>
          <div class="flex gap-3" id="insurance-buttons">
            <button type="button" data-insurance="true" class="insurance-btn flex-1 px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm hover:border-sky-300 transition">ì˜ˆ</button>
            <button type="button" data-insurance="false" class="insurance-btn flex-1 px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-600 text-sm hover:border-sky-300 transition">ì•„ë‹ˆì˜¤</button>
          </div>
          <p id="insurance-error" class="text-red-500 text-sm mt-1 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">ì¶”ê°€ ë¬¸ì˜ì‚¬í•­</label>
          <textarea id="additionalInfo" rows="4" placeholder="ê¶ê¸ˆí•œ ì ì´ë‚˜ ì›í•˜ì‹œëŠ” ì¡°ê±´ì´ ìˆìœ¼ì‹œë©´ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”." class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 resize-none"></textarea>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold text-gray-800 mb-4">ì•½ê´€ ë™ì˜</h3>
      <div class="space-y-3">
        <label class="flex items-center gap-3 p-3 bg-sky-50 rounded-xl cursor-pointer">
          <input type="checkbox" id="agreeAll" class="w-5 h-5 rounded accent-sky-500">
          <span class="font-medium text-gray-800">ì „ì²´ ë™ì˜</span>
        </label>
        <div class="border-t pt-3 space-y-2">
          <label class="flex items-center gap-3 p-2 cursor-pointer">
            <input type="checkbox" id="agreeTerms" class="w-4 h-4 rounded accent-sky-500">
            <span class="text-gray-600 text-sm">ì´ìš©ì•½ê´€ ë™ì˜ <span class="text-red-500">(í•„ìˆ˜)</span></span>
          </label>
          <p id="terms-error" class="text-red-500 text-sm ml-7 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
          <label class="flex items-center gap-3 p-2 cursor-pointer">
            <input type="checkbox" id="agreePrivacy" class="w-4 h-4 rounded accent-sky-500">
            <span class="text-gray-600 text-sm">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ <span class="text-red-500">(í•„ìˆ˜)</span></span>
          </label>
          <p id="privacy-error" class="text-red-500 text-sm ml-7 hidden">í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ì •ë³´ì…ë‹ˆë‹¤.</p>
          <label class="flex items-center gap-3 p-2 cursor-pointer">
            <input type="checkbox" id="agreeMarketing" class="w-4 h-4 rounded accent-sky-500">
            <span class="text-gray-600 text-sm">ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜ <span class="text-gray-400">(ì„ íƒ)</span></span>
          </label>
        </div>
      </div>
    </div>

    <button id="submitBtn" class="w-full bg-gradient-to-r from-sky-500 to-blue-600 text-white py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition transform hover:-translate-y-0.5 active:translate-y-0">
      ë¬´ë£Œ ê²¬ì  ìš”ì²­í•˜ê¸°
    </button>
    <p class="text-center text-gray-400 text-xs mt-4 mb-8">ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ë³‘ì› ìƒë‹´ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
  </div>

  <div id="successModal" class="fixed inset-0 bg-black/50 flex items-center justify-center p-4 hidden z-50">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center">
      <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
        <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-3">ê²¬ì  ìš”ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</h2>
      <p class="text-gray-600 mb-6">ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì „ë¬¸ ìƒë‹´ì‚¬ê°€ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
      <button onclick="location.reload()" class="bg-sky-500 text-white px-8 py-3 rounded-xl font-medium hover:bg-sky-600 transition">í™•ì¸</button>
    </div>
  </div>

  <footer class="bg-gray-100 py-8">
    <div class="max-w-3xl mx-auto px-4 text-center text-gray-500 text-sm">
      <p class="font-medium text-gray-700 mb-2">ëª¨ë‘ë‹¥</p>
      <p>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</p>
      <p>ëŒ€í‘œì „í™”: 070-8098-4064 | ì´ë©”ì¼: help@modoodoc.com</p>
      <p class="mt-4 text-xs">Â© 2024 Modoodoc. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const seoulDistricts = ['ê°•ë‚¨êµ¬','ê°•ë™êµ¬','ê°•ë¶êµ¬','ê°•ì„œêµ¬','ê´€ì•…êµ¬','ê´‘ì§„êµ¬','êµ¬ë¡œêµ¬','ê¸ˆì²œêµ¬','ë…¸ì›êµ¬','ë„ë´‰êµ¬','ë™ëŒ€ë¬¸êµ¬','ë™ì‘êµ¬','ë§ˆí¬êµ¬','ì„œëŒ€ë¬¸êµ¬','ì„œì´ˆêµ¬','ì„±ë™êµ¬','ì„±ë¶êµ¬','ì†¡íŒŒêµ¬','ì–‘ì²œêµ¬','ì˜ë“±í¬êµ¬','ìš©ì‚°êµ¬','ì€í‰êµ¬','ì¢…ë¡œêµ¬','ì¤‘êµ¬','ì¤‘ë‘êµ¬'];
    
    let formData = { name:'', phone1:'', phone2:'', phone3:'', region:'', district:'', age:'', surgeryType:'', multifocalLens:'', hasInsurance:null, additionalInfo:'' };

    // Region change
    document.getElementById('region').addEventListener('change', function() {
      formData.region = this.value;
      const districtSelect = document.getElementById('district');
      if (this.value === 'ì„œìš¸') {
        districtSelect.classList.remove('hidden');
        districtSelect.innerHTML = '<option value="">êµ¬ ì„ íƒ</option>' + seoulDistricts.map(d => `<option value="${d}">${d}</option>`).join('');
      } else {
        districtSelect.classList.add('hidden');
        formData.district = '';
      }
    });

    document.getElementById('district').addEventListener('change', function() {
      formData.district = this.value;
    });

    // Button selections
    document.querySelectorAll('.age-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.age-btn').forEach(b => { b.classList.remove('bg-sky-500','text-white','border-sky-500'); b.classList.add('bg-white','text-gray-600','border-gray-200'); });
        this.classList.add('bg-sky-500','text-white','border-sky-500');
        this.classList.remove('bg-white','text-gray-600','border-gray-200');
        formData.age = this.dataset.age;
      });
    });

    document.querySelectorAll('.surgery-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.surgery-btn').forEach(b => { b.classList.remove('bg-sky-500','text-white','border-sky-500'); b.classList.add('bg-white','text-gray-600','border-gray-200'); });
        this.classList.add('bg-sky-500','text-white','border-sky-500');
        this.classList.remove('bg-white','text-gray-600','border-gray-200');
        formData.surgeryType = this.dataset.surgery;
        if (this.dataset.surgery === 'ë‹¤ì´ˆì  ë Œì¦ˆ') {
          document.getElementById('multifocal-section').classList.remove('hidden');
        } else {
          document.getElementById('multifocal-section').classList.add('hidden');
          formData.multifocalLens = '';
          document.querySelectorAll('.lens-btn').forEach(b => { b.classList.remove('bg-sky-500','text-white','border-sky-500'); b.classList.add('bg-white','text-gray-600','border-gray-200'); });
        }
      });
    });

    document.querySelectorAll('.lens-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.lens-btn').forEach(b => { b.classList.remove('bg-sky-500','text-white','border-sky-500'); b.classList.add('bg-white','text-gray-600','border-gray-200'); });
        this.classList.add('bg-sky-500','text-white','border-sky-500');
        this.classList.remove('bg-white','text-gray-600','border-gray-200');
        formData.multifocalLens = this.dataset.lens;
      });
    });

    document.querySelectorAll('.insurance-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.insurance-btn').forEach(b => { b.classList.remove('bg-sky-500','text-white','border-sky-500'); b.classList.add('bg-white','text-gray-600','border-gray-200'); });
        this.classList.add('bg-sky-500','text-white','border-sky-500');
        this.classList.remove('bg-white','text-gray-600','border-gray-200');
        formData.hasInsurance = this.dataset.insurance === 'true';
      });
    });

    // Agree all
    document.getElementById('agreeAll').addEventListener('change', function() {
      document.getElementById('agreeTerms').checked = this.checked;
      document.getElementById('agreePrivacy').checked = this.checked;
      document.getElementById('agreeMarketing').checked = this.checked;
    });

    // Submit
    document.getElementById('submitBtn').addEventListener('click', async function() {
      formData.name = document.getElementById('name').value;
      formData.phone1 = document.getElementById('phone1').value;
      formData.phone2 = document.getElementById('phone2').value;
      formData.phone3 = document.getElementById('phone3').value;
      formData.additionalInfo = document.getElementById('additionalInfo').value;

      let hasError = false;
      const showError = (id) => { document.getElementById(id).classList.remove('hidden'); hasError = true; };
      const hideError = (id) => { document.getElementById(id).classList.add('hidden'); };

      ['name-error','phone-error','region-error','age-error','surgery-error','lens-error','insurance-error','terms-error','privacy-error'].forEach(hideError);

      if (!formData.name) showError('name-error');
      if (!formData.phone1 || !formData.phone2 || !formData.phone3) showError('phone-error');
      if (!formData.region) showError('region-error');
      if (formData.region === 'ì„œìš¸' && !formData.district) showError('region-error');
      if (!formData.age) showError('age-error');
      if (!formData.surgeryType) showError('surgery-error');
      if (formData.surgeryType === 'ë‹¤ì´ˆì  ë Œì¦ˆ' && !formData.multifocalLens) showError('lens-error');
      if (formData.hasInsurance === null) showError('insurance-error');
      if (!document.getElementById('agreeTerms').checked) showError('terms-error');
      if (!document.getElementById('agreePrivacy').checked) showError('privacy-error');

      if (hasError) return;

      // Slack ë©”ì‹œì§€ ì „ì†¡
      const location = formData.region === 'ì„œìš¸' ? `ì„œìš¸ ${formData.district}` : formData.region;
      const surgeryInfo = formData.surgeryType === 'ë‹¤ì´ˆì  ë Œì¦ˆ' ? `${formData.surgeryType} (${formData.multifocalLens})` : formData.surgeryType;
      
      const message = `ğŸ“‹ *ë°±ë‚´ì¥ ìˆ˜ìˆ  ê²¬ì  ìš”ì²­*\n\nğŸ‘¤ *ê¸°ë³¸ ì •ë³´*\nâ€¢ ì´ë¦„: ${formData.name}\nâ€¢ ì—°ë½ì²˜: ${formData.phone1}-${formData.phone2}-${formData.phone3}\nâ€¢ ì§€ì—­: ${location}\nâ€¢ ì—°ë ¹ëŒ€: ${formData.age}\n\nğŸ¥ *ìˆ˜ìˆ  ì •ë³´*\nâ€¢ í¬ë§ ìˆ˜ìˆ : ${surgeryInfo}\nâ€¢ ì‹¤ë¹„ë³´í—˜: ${formData.hasInsurance ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤'}\n\nğŸ’¬ *ì¶”ê°€ ë¬¸ì˜*\n${formData.additionalInfo || 'ì—†ìŒ'}`;

      const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxwoxiRG37_8xzlBMLxPdrhou_d3-RMvINjGLt3ilD_qUZxNE9dL9oE2qsp2a2Web4Z/exec';
      
      try {
        const url = GOOGLE_SCRIPT_URL + '?text=' + encodeURIComponent(message);
        
        await fetch(url, { mode: 'no-cors' });
        
        document.getElementById('successModal').classList.remove('hidden');
      } catch (error) {
        console.error('ì „ì†¡ ì‹¤íŒ¨:', error);
        document.getElementById('successModal').classList.remove('hidden');
      }
    });
  </script>
</body>
</html>
